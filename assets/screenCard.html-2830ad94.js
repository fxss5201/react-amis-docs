import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as l,a as n,b as s,d as t,e}from"./app-cb04506a.js";const i="/react-amis-docs/assets/20240129211718-706c2880.png",d={},r=e('<h2 id="大屏单块模板组件" tabindex="-1"><a class="header-anchor" href="#大屏单块模板组件" aria-hidden="true">#</a> 大屏单块模板组件</h2><figure><img src="'+i+`" alt="大屏单块模板组件" tabindex="0" loading="lazy"><figcaption>大屏单块模板组件</figcaption></figure><h3 id="总体内容" tabindex="-1"><a class="header-anchor" href="#总体内容" aria-hidden="true">#</a> 总体内容</h3><table><thead><tr><th>名称</th><th>字段</th><th>用途</th><th>默认值</th><th>类型</th></tr></thead><tbody><tr><td>样式名称</td><td><code>className</code></td><td>定义样式，配置在<code>fan-screen-card</code>DOM元素上</td><td>-</td><td><code>string</code></td></tr><tr><td>样式模版</td><td><code>classStyle</code></td><td>大屏单块模板的样式模版</td><td>-</td><td><code>string</code></td></tr><tr><td>位置配置</td><td><code>x/y/h/w</code></td><td>位置配置</td><td>1</td><td><code>number</code></td></tr><tr><td>是否显示头部</td><td><code>headerShow</code></td><td>是否显示头部</td><td><code>true</code></td><td><code>boolean</code></td></tr><tr><td>样式覆盖</td><td><code>layoutStyle</code></td><td>填写css，通过css优先级直接调整覆盖页面样式</td><td>-</td><td></td></tr></tbody></table><h4 id="样式覆盖-layoutstyle" tabindex="-1"><a class="header-anchor" href="#样式覆盖-layoutstyle" aria-hidden="true">#</a> 样式覆盖 <code>layoutStyle</code></h4><p>样式覆盖 <code>layoutStyle</code> 是通过css优先级直接调整覆盖页面样式，例如：</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.large-screen-layout .large-screen-layout-header</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="模块标题配置" tabindex="-1"><a class="header-anchor" href="#模块标题配置" aria-hidden="true">#</a> 模块标题配置</h3><table><thead><tr><th>名称</th><th>字段</th><th>用途</th><th>默认值</th><th>类型</th></tr></thead><tbody><tr><td>标题名称</td><td><code>headerTitle</code></td><td>标题名称</td><td>-</td><td><code>string</code></td></tr><tr><td>标题样式</td><td><code>headerTitleClassName</code></td><td>定义样式，配置在<code>fan-screen-card-header_title</code>DOM元素上</td><td>-</td><td><code>string</code></td></tr><tr><td>字体颜色</td><td><code>fontColor</code></td><td>字体颜色，默认从<a href="%E5%AD%97%E4%BD%93%E9%A2%9C%E8%89%B2">./layout.md#总体配置</a> 继承</td><td>-</td><td><code>string</code></td></tr></tbody></table><h3 id="头部右侧" tabindex="-1"><a class="header-anchor" href="#头部右侧" aria-hidden="true">#</a> 头部右侧</h3>`,10),u=n("thead",null,[n("tr",null,[n("th",null,"名称"),n("th",null,"字段"),n("th",null,"用途"),n("th",null,"默认值"),n("th",null,"类型")])],-1),k=n("td",null,"右侧内容",-1),h=n("td",null,[n("code",null,"headerRight")],-1),v={href:"https://aisuda.bce.baidu.com/amis/zh-CN/docs/types/schemanode",target:"_blank",rel:"noopener noreferrer"},m=n("td",null,"-",-1),b=n("td",null,[n("code",null,"json")],-1),y=n("tr",null,[n("td",null,"样式名称"),n("td",null,[n("code",null,"headerRightClassName")]),n("td",null,[s("定义样式，配置在"),n("code",null,"fan-screen-card-header_right"),s("DOM元素上")]),n("td",null,"-"),n("td",null,[n("code",null,"string")])],-1),f=e('<h4 id="内容配置" tabindex="-1"><a class="header-anchor" href="#内容配置" aria-hidden="true">#</a> 内容配置</h4><table><thead><tr><th>名称</th><th>字段</th><th>用途</th><th>默认值</th><th>类型</th></tr></thead><tbody><tr><td>样式名称</td><td><code>bodyClassName</code></td><td>定义样式，配置在<code>fan-screen-card-body</code>DOM元素上</td><td>-</td><td><code>string</code></td></tr><tr><td>内边距</td><td><code>bodyPaddingSize</code></td><td>定义内边距，优先级高于样式名称</td><td>-</td><td><code>number</code></td></tr></tbody></table><h2 id="大屏单块模板内容" tabindex="-1"><a class="header-anchor" href="#大屏单块模板内容" aria-hidden="true">#</a> 大屏单块模板内容</h2>',3),g={href:"https://aisuda.bce.baidu.com/amis/zh-CN/components/service",target:"_blank",rel:"noopener noreferrer"},_={href:"https://aisuda.bce.baidu.com/amis/zh-CN/components/chart",target:"_blank",rel:"noopener noreferrer"},w={href:"https://jimu.fxss.work/#/outside/echartBigPage2",target:"_blank",rel:"noopener noreferrer"},x={href:"https://aisuda.bce.baidu.com/amis/zh-CN/components/chart",target:"_blank",rel:"noopener noreferrer"},C=n("code",null,"className",-1),I=n("li",null,[s("配置 Chart 图表的 "),n("code",null,"config"),s(" ;")],-1),E=n("li",null,[s("配置 Chart 图表的 "),n("code",null,"dataFilter")],-1),N=e(`<p><strong><code>dataFilter</code></strong>：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> curFlag <span class="token operator">=</span> <span class="token string">&#39;lineCharts&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>fanEchartsIntervals <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>fanEchartsIntervals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>curFlag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">clearInterval</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>fanEchartsIntervals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>curFlag<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span>fanEchartsIntervals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>curFlag<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>fanEchartsIntervals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>curFlag<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span>curFlag<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> currentIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>config<span class="token punctuation">,</span>
  <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token operator">...</span>config<span class="token punctuation">.</span>series<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> data<span class="token punctuation">.</span>line
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dataLen <span class="token operator">=</span> data<span class="token punctuation">.</span>line<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token comment">// 取消之前高亮的图形</span>
  myChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;downplay&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">seriesIndex</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> currentIndex
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  currentIndex <span class="token operator">=</span> <span class="token punctuation">(</span>currentIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> dataLen<span class="token punctuation">;</span>
  <span class="token comment">// 高亮当前图形</span>
  myChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;highlight&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">seriesIndex</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> currentIndex
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 显示 tooltip</span>
  myChart<span class="token punctuation">.</span><span class="token function">dispatchAction</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;showTip&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">seriesIndex</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> currentIndex
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>fanEchartsIntervals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>fanEchartsIntervals<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>curFlag<span class="token punctuation">,</span> <span class="token punctuation">[</span>interval<span class="token punctuation">,</span> myChart<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>fanEchartsIntervals <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span>fanEchartsIntervals<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>curFlag<span class="token punctuation">,</span> <span class="token punctuation">[</span>interval<span class="token punctuation">,</span> myChart<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> config<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function F(S,B){const a=o("ExternalLinkIcon");return c(),l("div",null,[r,n("table",null,[u,n("tbody",null,[n("tr",null,[k,h,n("td",null,[s("头部右侧，配置"),n("a",v,[s("schemanode"),t(a)])]),m,b]),y])]),f,n("p",null,[s("大屏单块模板内容首先嵌套 "),n("a",g,[s("Service 功能型容器"),t(a)]),s(" 用于获取数据，再使用 "),n("a",_,[s("Chart 图表"),t(a)]),s(" 进行图表渲染。")]),n("p",null,[s("如果需要轮流高亮 Chart 图表的每个数据，例如 "),n("a",w,[s("大屏动态展示"),t(a)]),s(" 可以使用如下配置：")]),n("ol",null,[n("li",null,[s("在 "),n("a",x,[s("Chart 图表"),t(a)]),s(" 上添加唯一的 "),C,s(" ；")]),I,E]),N])}const j=p(d,[["render",F],["__file","screenCard.html.vue"]]);export{j as default};
